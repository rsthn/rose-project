(? (not (contains (args) user_id type))
	(error `Parameter missing: {err}`))

(? (has value (args))
	(db::exec `
		INSERT INTO ##directives SET
			modified='{datetime::now}', user_id={int {args.user_id}}, type={escape {args.type}}, s_value={escape {args.value}}
		ON DUPLICATE KEY UPDATE
			modified='{datetime::now}', s_value={escape {args.value}}
	`)

	(db::scalar `SELECT s_value FROM ##directives WHERE user_id={int {args.user_id}} AND type={escape {args.type}}`)
)
